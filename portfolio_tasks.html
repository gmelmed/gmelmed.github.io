<!DOCTYPE html>
<html> 

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gabe Melmed</title>

    <!-- Link to Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Petrona:wght@400;700&family=Cardo:wght@400;700&family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">

    <!-- Link to your CSS -->
    <link rel="stylesheet" type="text/css" href="portfolio_styles.css">

    <!-- Vega and Vega-Lite for visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <style>
        #chartGrid {
            display: flex;
        }
    </style>
</head>


<body> 

    <h1 class="big" style="margin-bottom: 0px;"> <!-- We have added a class to the header called "big" which we can use to style it in the CSS -->
        <!-- This is a header, it is the largest text on the page -->
        Gabe Melmed
    </h1>
    <!-- Add a body paragraph -->
    <p class = "links">
        <!-- we're setting the margin to 0px so the header and authour name are close together -->
        <a href="index.html">Home</a> | 
        <a href="/final_project/rent_in_america.html">Mapping America's Housing Crisis</a> |
        <a href="lifeex.html">Diverging Life Expectancy</a> |  
        <a href="eco.html">Economics Observatory Contributions</a> | 
        <a href="other_projects.html">Other Projects</a> | More coming soon.
    </p>

    <!-- Description paragraph -->
     <p>
        <i>
            This is a portfolio of coding challanges I have created for PP434: Automated Data Visualization for Public Policy.
        </i>
     </p>

    <section>
        <div class="chart-description">
            <h2>CC1: Hosting.</h2>
            <p>
                <b>Task:</b> Set up your own Github account and live page using GitHub pages; Add two charts using the <tt>vegaEmbed</tt> function. <sup><a href="#fn1" id="ref1">1</a></sup>
            </p>
        </div>
        <figure id="cc1_1"></figure>
        <figure id="cc1_2"></figure>
    </section>

    <section>
        <div class="chart-description">
            <h2>CC2: Building.</h2>
            <p>
                <b>Task:</b> Build two separate charts using the “create” tool from Economics Observatory's <a href="https://www.economicsobservatory.com/create">"create" tool</a>. Embed the two charts in your page.
            </p>
        </div>
        <figure id="cc2_1"></figure>
        <figure id="cc2_2"></figure>
    </section>

    <section>
        <div class="chart-description">
            <h2>CC3: Debating.</h2>
            <p>
                <b>Task:</b> Produce two charts that support or refute (or are related to in some way) a topic discussed at the <a href = "https://www.economicsobservatory.com/festival-of-economics-2024">Festival of Economics.</a> Your task:

                <!-- bullets -->
                <ul>
                    <li>Set out a topic that was discussed</li>
                    <li>Make two charts that support or refute it or a related to an argument on this topic. This could be two that support, two that refute, or a mixture.</li>
                    <li>Comment on what you find</li>
                </ul>
            </p>
            <p>
                On day 1 of the festival, the panel discussed <a href="https://www.economicsobservatory.com/under-performing-how-can-we-boost-britains-low-productivity">UK Productivity</a>, which the panelists argue is under-performing.
                
            </p>
            <p>
                Richard Davies began the panel by mentioning that two heavy industries, steel and coal, have all but completely shut down in the UK. Most economists agree the manufacturing is a major driver of productivity. The UK was once <a href="https://en.wikipedia.org/wiki/Industrial_Revolution">famously</a> the world's leader in manufacturing. Today, the UK lags behind its peers, both in europe and among high-income countries, in manufacturing.
                <figure id="cc3_1"></figure>
            </p>
            <p>
                The second chart shows the UK's spending on R&D as a share of GDP. The ECO panelists (and many ECO contributors) argue that the UK is under-investing in R&D. The chart below shows R&D spending as a share of GDP for G7 economies. Based on the rhetoric around this issue, I expected to see the UK near the bottom. In fact, the UK is in the middle of the pack, below the US, Germany, and Japan and above Italy, Canada and France.<sup><a href="#fn2" id="ref1">2</a></sup> The UK is also the only country in the G7 that is steadily increasing its R&D spending as a share of GDP. Of course, this says nothing about the quality of the R&D spending.
                <figure id="cc3_2"></figure>
            </p>

    <section>
        <div class="chart-description">
            <h2>CC4: Replication.</h2>
            <p>
                <b>Task:</b> Find a chart that a journalist, think tank, television channel or company has used. Your challenge this week is to replicate it, and then improve on it.
            </p>
            <p>
                This chart initially appeared in an FT article on the Dollar:
            </p>
                <div style="text-align: center;">
                    <img src="chart_specs/ft_example.png" alt="FT chart" width="600" height="400">
                </div>
            <p>
                Yes, even FT is occasionally guilty of publishing the dreaded dual axis chart. If the viewer doesn't pay attention, he may think the Renminbi's share of global reserves is already just behind the dollar. FT released a <a href="https://www.ft.com/content/3888bdba-d0d6-49a1-9e78-4d07ce458f42">revised version</a> with the two series as a trellis chart with separate scales. This is an improvement, but I still think it obscures the distance that remains between the two currencies. Here is my recreation:
            </p>    
        <figure id="cc4_1"></figure>
            <p>
                And my revised version:
            </p>

        <figure id="cc4_2"></figure>
            <p>
                When both series are on the same scale and other currencies are included, we can see the latter claim is true - the dollar isn't as dominant as it once was. We also see how much the original chart exaggerates the Renminbi's share. It isn't even the fourth most held currency.
            </p>
        </div>
    </section>
    <section>
        <div class="chart-description">
            <h2>CC6: Loops. Build a Dashboard</h2>
            <p>
                <b>Task:</b> Use the ONS API to batch download nine different series. Save these to your GitHub account, and use these to supply the data to nine charts on a theme or themes of your choice. 
            </p>
            <p>
                I batch downloaded time series from the ONS's <a href="https://www.ons.gov.uk/employmentandlabourmarket/peopleinwork/employmentandemployeetypes/datasets/labourmarketstatistics">Labour market statistics</a> dataset. I created a "dashboard" using Vega-Lite's <tt>facet</tt> feature. The dashboard is meant to provide a brief overview of the UK's labor market trends.
            </p>
            <figure id="cc6"></figure>
        </div>
    </section>

    <section>
        <div class="chart-description">
            <h2>CC7: Maps.</h2>
            <p>
                <b>Task:</b> Produce two maps and embed them in your portfolio page. Both should be of the same country, region, area, city:
                <!-- bullet list -->
                <ul>
                    <li>Map 1. Your base map.</li>
                    <li>Map 2. A choropleth map.</li>
            </p>
        </div>
        <figure id="cc7_1"></figure>
        <figure id="cc7_2"></figure>
    </section>

    <section>
        <div class="chart-description">
            <h2>CC8: Analytics Charts.</h2>
            <p>
                <b>Task:</b> Produce two charts that use advanced analytics.
            </p>
            <p>
                My first analytics chart is from my <a href="final_project/rent_in_america.html">final project.</a> This is essentially the thesis of my project: areas that under-supply housing have higher rent growth.
            </p>
            <figure id="cc8_1"></figure>
            <p>
                For the next visualization, I returned to the life expectancy data I used for my <a href="lifeex.html">policy memo</a> on the subject last year. In it, I argued that life expectancy in the US is diverging by geography and by class. The decline and stagnation of overall life expectancy conceals a great deal of variation. Consider the density plots of life expectancy by county every four years. The distributions gradually become flatter and wider, indicating a widening gap between the shortest- and longest-living areas.
            </p>
            <figure id="cc8_2"></figure>
        </div>
        
    </section>

    <section>
        <div class="chart-description">
            <h2>CC10: Interactivity.</h2>
            <p>
                <b>Task:</b> Produce two visualizations that have interactive elements.
            </p>
            <p>
                For these visualizations, I continued with the life expectancy data. The first shows life expectancy by state from 2000 to 2019. Moving forward in time, we see how some states are living dramatically longer while other areas are stagnating.
            </p>
            <figure id="cc10_1"></figure>
            <p>
                The second variation shows inequality <i>within</i> states. The plot shows every county in the US, with the user able to select a state from the dropdown menu and highlight its counties. Life expectancy varies widely within some states.

            </p>
            <figure id="cc10_2"></figure>    
        </div>
        
    </section>


    <footer class="footnotes">
            <ol>
                <li id="fn1">
                    I changed the configuration of the JSON specs for these charts and the CC2 charts to match the style of my portfolio.
                    <a href="#fn1-ref">↩</a>
                </li>
                <li id="fn2">
                    I don't think I'm cherry-picking my sample either. The UK is also middle-of-the pack when compared with G20 countries and OECD countries. <a href="#fn2-ref">↩</a>
                </li>
            </ol>
        </div>
    </footer>    
</body>
<script>
    let rd_football_spec = "chart_specs/rd_football.json";
    let rd_accommodation_spec = "chart_specs/rd_accommodation.json";
    let eco_nuclear_spec = "chart_specs/eco_nuclear.json";
    let eco_india_spec = "chart_specs/eco_india_phones.json";
    let mva_spec = "chart_specs/mva.json";
    let rd_spec = "chart_specs/rd_spending.json";
    let ft_recreation_spec = "chart_specs/ft_recreation.json";
    let ft_remake_spec = "chart_specs/ft_remake.json";
    let facet_spec = "chart_specs/uk_labor_mkt.json";
    let nyc_plain_spec = "chart_specs/nyc_plain.json";
    let nyc_languages_spec = "chart_specs/nyc_languages.json";
    let homebuilding_spec = "final_project/specs/homebuilding_zori.json";
    let lifeex_distribution_spec = "chart_specs/lifeex_distributions.json";
    let interactive_map_spec = "chart_specs/lifeex_state_interactive.json";
    let lifeex_dropdown_spec = "chart_specs/lifeex_dropdown.json";

    vegaEmbed('#cc1_1', rd_football_spec)
    vegaEmbed('#cc1_2', rd_accommodation_spec)
    vegaEmbed('#cc2_1', eco_nuclear_spec)
    vegaEmbed('#cc2_2', eco_india_spec)
    vegaEmbed('#cc3_1', mva_spec)
    vegaEmbed('#cc3_2', rd_spec)
    vegaEmbed('#cc4_1', ft_recreation_spec)
    vegaEmbed('#cc4_2', ft_remake_spec)
    vegaEmbed('#cc6', facet_spec)
    vegaEmbed('#cc7_1', nyc_plain_spec)
    vegaEmbed('#cc7_2', nyc_languages_spec)
    vegaEmbed('#cc8_1', homebuilding_spec)
    vegaEmbed('#cc8_2', lifeex_distribution_spec)
    vegaEmbed('#cc10_1', interactive_map_spec)
    vegaEmbed('#cc10_2', lifeex_dropdown_spec)
    

    // Select all links in the document
    document.querySelectorAll("a").forEach(link => {
        const isLinkStyle = link.closest(".links"); // Check if the link is in the .links class
        const isFootnoteLink = link.href.includes("#fn"); // Links to footnotes
        const isSuperscriptLink = link.href.includes("#fn") && link.id.includes("ref"); // Superscripts back to the footnote

        // Open in same tab for .links, footnotes, or superscripts
        if (isLinkStyle || isFootnoteLink || isSuperscriptLink) {
            link.removeAttribute("target");
        } else {
            // Otherwise, open in a new tab
            link.setAttribute("target", "_blank");
        }
    });

</script>

</html>