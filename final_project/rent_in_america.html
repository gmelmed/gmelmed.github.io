
<!-- Same header and links as homepage -->
<!DOCTYPE html>
<html> 
    <!-- HTML is heirarchial: tags like this define elements on the page. 
    Each tag does something different. For example:
        - The <html> tag defines the whole document.
        - The <h1> tag defines a large heading
        - The <p> tag defines a paragraph
        - Tags appear as an opening <div> and closing </div> pair
    -->

<head>    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rent in America | Gabe Melmed</title>

    <!-- Link to Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Link to your CSS -->
    <link rel="stylesheet" type="text/css" href="/portfolio_styles.css">

    <!-- This is a link to the vega-lite which we're using to make graphs -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>


    <style>
        #chartGrid {
            display: flex;
        }
        
    </style>
    <link rel="preload" href="https://raw.githubusercontent.com/gmelmed/gmelmed.github.io/main/final_project/fonts/Gotham-Bold.otf" as="font" type="font/otf" crossorigin="anonymous">
    <link rel="preload" href="https://raw.githubusercontent.com/gmelmed/gmelmed.github.io/main/final_project/fonts/Lora-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">    
</head>

<body>
<!-- The body tag contains the elements that visitors to our page will see. -->
    <h1 class="big" style>
        <!-- This is a header, it is the largest text on the page -->
        Gabe Melmed
    </h1>
    <p class = "links">
        <!-- we're setting the margin to 0px so the header and authour name are close together -->
        <a href="/index.html">Home</a> | 
        <a href="/lifeex.html">Diverging Life Expectancy</a> | 
        <a href="/eco.html">Economics Observatory Contributions</a> | More coming soon.
    </p>
    <p>
        <i>This is my final project for PP434: Automated Data Visualization for Public Policy. It is a work in progress.
        </i>
    </p>
    <p>
        <i>My assingment is to make 5-8 data visualizations on a policy-related topic of my choice and discuss my aims, data, analytical challenges, and conclusions.
        </i>
    </p>
    <h1 class="big" style="margin-top: 0px;"> <!-- We have added a class to the header called "big" which we can use to style it in the CSS -->
        <!-- This is a header, it is the largest text on the page -->
        Mapping America's Housing Crisis
    </h1>
    <section>
        <div class="chart-description">
            <h3>Rent Inflation</h3>
            <p> <!-- This is a paragraph, it's the main way to display text on a web page -->
                The surge in rent prices is not simply the result of post-pandemic inflation. The chart below shows the year-on-year change in rent prices and inflation since 2016. Rent inflation outpaced overall inflation for years before the pandemic began. During the immediate recovery from the pandemic, rent prices rose an order of magnidute faster than overall prices. Rent inflation has slowed in the past year, but it remains higher inflation in most places.<sup id="fn1-ref"><a href="#fn1">1</a></sup>
            </p>
        </div>
        <figure id="Location1"></figure> <!-- we give it an id so we can put a vega-lite graph here with VegaEmbed -->
    </section>
    <section>
        <div class="chart-description">
            <h3>Mapping Rent</h3>
            <p> <!-- This is a paragraph, it's the main way to display text on a web page -->
                The rent crisis is not felt equally across the US. The map below shows the year-on-year change in rent prices in US counties, which are sized by population.Rent inflation is felt most accutely in the midwest and northeast. On the west coast, rent inflation is low.  A small handful of counties, mostly in the Texas, saw their rent index decrease over the past year. <sup id="fn2-ref"><a href="#fn2">1</a></sup>
            </p>
            <p>
                Use the zoom and search features to explore the data.
            </p>
        </div>
        <figure id="Location2">
            <iframe 
            src="zori_county_bubble.html" 
            frameborder="0" 
            scrolling="no">
        </iframe>
        </figure> <!-- we give it an id so we can put a vega-lite graph here with VegaEmbed -->
    </section>
    <section>
        <div class="chart-description">
            <h3>The Most expensive places to rent</h3>
            <p> <!-- This is a paragraph, it's the main way to display text on a web page -->
                Placeholder text
            </p>
        </div>
        <figure id="Location2">
            <iframe 
            src="top_20_slider.html" 
            frameborder="0" 
            scrolling="no">
        </iframe> 
    <section>
        <div class="chart-description">
            <h3>A Supply Crunch</h3>
            <p> <!-- This is a paragraph, it's the main way to display text on a web page -->
                I hope the above visualizations have motivated the rent issue and given a sense of the scale of the current crisis. But what's causing it? I would argue that the root cause of the rent crisis is a lack of housing supply in the areas where people want to live. When supply is low, renters have to compete for a limited number of units, which gives landlords room to charge higher rents.
            </p>
            <p>
                The points below represent the fifty largest metro areas in the US, their year-on-year rent inflation, and the number of new multi-unit housing structures approved this year per 10,000 people.
            </p>
            <p>
                The chart below shows seems to support the supply chrunch thesis - the metro areas with the highest rent inflation tend to have the lowest home building rates. Note the extreme cases at the corners of this chart. Austin, TX has the second-highest home building rate and the lowest rent inflation. Hartford, CT has the among lowest home building rates and the highest rent inflation.<sup id="fn3-ref"><a href="#fn3">3</a></sup> 
            </p>
        </div>
        <figure id="Location4"></figure> <!-- we give it an id so we can put a vega-lite graph here with VegaEmbed -->
    </section>
    <section>
        <div class="chart-description">
            <p> <!-- This is a paragraph, it's the main way to display text on a web page -->
                When we examine Zillow's Rent Demand Index (ZORDI), we a similar story. ZORDI measures the typical traffic that a rental listing recieves on their site. I would argue that "rent demand" is a slight misnomer - ZORDI measures the amount of traffic <i>for a given rental</i> in a metro area, not the total amount of traffic in that area. We can consider ZORDI a measure of the <i>competition</i> for rental units in a given area.
            </p>
            <p>
                The chart below shows the ZORDI and rent inflation for the fifty largest metro areas in the US, which are sized by population. Remarkably, the chart below is approximately the reverse of the previous chart. The metro areas with the highest rent inflation tend to have the lowest ZORDI scores. The same extreme cases, Austin and Hartford are present in this chart as in the previous chart, but their positions are reversed.<sup id="fn4-ref"><a href="#fn4">3</a></sup>
            </p>
        </div>
        <figure id="Location5"></figure> <!-- we give it an id so we can put a vega-lite graph here with VegaEmbed -->
    </section>
    <footer class = "footnotes">
        <hr>
        <ol>
            <li id="fn1">
                To measure rent for this project, I am using Zillow's Observed Rent Index (ZORI). Zillow describes ZORI as:
                <blockquote>
                    A smoothed measure of the typical observed market rate rent across a given region. ZORI is a repeat-rent index that is weighted to the rental housing stock to ensure representativeness across the entire market, not just those homes currently listed for-rent. The index is dollar-denominated by computing the mean of listed rents that fall into the 35th to 65th percentile range for all homes and apartments in a given region, which is weighted to reflect the rental housing stock.
                </blockquote>
                ZORI is a mean figure, but since it excludes the highest and lowest percentiles, it is not heavily affected by extreme values. It also offers some control for seasonality. 
                <blockquote>
                    What’s available to rent at any given time can change rapidly, and measures of median or average prices across time may not reflect actual market-based movements in rent prices, but instead simply reflect the fact that certain unit types are available at different times. ZORI solves this challenge by calculating price differences for the same rental unit over time, then aggregating those differences across all properties repeatedly listed for rent on Zillow.  
                </blockquote> 
                For more on ZORI, see <a href="https://www.zillow.com/research/methodology-zori-repeat-rent-27092/">Zillow's methodology.</a>

                I scraped the ZORI data from the Zillow's website. I used the FRED API to get the Consumer Price Index (CPI) for all urban consumers. I built the chart using vega-lite.<a href="#fn1-ref">↩</a>
            </li>
            <li id="fn2">
                This chart uses the same Zillow data as the previous chart. I calculated YoY change using python. I built the map using D3 and mapbox. The D3 spec for this map uses the most recent ZORI data for each county. For population data, I used 2023 US Census figures. To locate conties on the map, I used the latitude and longitude of population centroids (rather than the geographic centers of counties), also from the US Census. The goal of this map is to show how rent inflation is distributed across the US while providing an accurate picture of the population density.<a href="#fn2-ref">↩</a>
            </li>
            <li id ="fn3">
                I acquired the homebuilding data from the US Census Bureau using their API. I chose to focus on multi-unit structures because they are the most likely to be rented. To calculate homebuilding per capita, I used metro are population figures from the 2023 US Census. I calculated the homebuilding rate using python. I built the chart using vega-lite.<a href="#fn3-ref">↩</a>
            </li>
            <li id="fn4">
                Like ZORI, I acquired ZORDI data by scraping Zillow's website. Zillow makes all of this information easily downloadable on their website, but for some reason does not offer an API for their public data.<a href="#fn4-ref">↩</a>
            </li>
        </ol>

    </footer>
    <script>
        // Define your standard configuration
        const customConfig = {
            config: {
            font: "Montserrat, sans-serif",
            view: {
                stroke: "transparent"
            },
            background: "#f7f7f7",
            range: {
                category: [
                "#002fa7",
                "#FFD300",
                "#FF9500",
                "#FF2B7F",
                "#00C5CD",
                "#5D00A6",
                "#00FF7F"
                ]
            },
            point: {
                filled: true,
                size: 80,
                color: "#e6224b",
                opacity: 0.95
            },
            axis: {
                labelColor: "#676A86",
                labelFontSize: 11,
                labelFont: "Montserrat, sans-serif",
                labelOpacity: 0.7,
                tickColor: "#676A86",
                tickOpacity: 0.5,
                domainColor: "#676A86",
                domainOpacity: 0.5,
                gridColor: "#676A86",
                gridDash: [2, 2],
                gridOpacity: 0.5,
                title: null,
                titleColor: "#676A86",
                titleOpacity: 0.8,
                tickSize: 4
            },
            axisXDiscrete: {
                grid: false,
                labelAngle: 0,
                tickCount: 10,
                tickOpacity: 0.5,
                title: null
            },
            axisYDiscrete: {
                ticks: false,
                labelPadding: 5
            },
            axisXQuantitative: {
                grid: true
            },
            axisYQuantitative: {
                gridColor: "#676A86",
                gridDash: [1, 5],
                gridOpacity: 0.5,
                ticks: false,
                labelPadding: 5,
                tickCount: 8,
                titleAngle: 0,
                titleAlign: "left",
                titleBaseline: "bottom",
                titleX: 0,
                titleY: -5
            },
            legend: {
                titleFont: "Montserrat, sans-serif",
                titleFontSize: 14,
                titleColor: "#1a1a1a",
                title: null,
                labelColor: "#1a1a1a",
                labelFontSize: 12
            },
            title: {
                font: "Montserrat, sans-serif",
                fontSize: 16,
                color: "#1a1a1a",
                subtitleFontSize: 14,
                subtitleColor: "#676A86"
            }
            }
        };

        let rent_inflation_spec = "rent_inflation.json";
        let rent_map_spec = "zori_county_bubble.html"; 
        let supply_spec = "homebuilding_zori.json";
        let demand_spec= "demand_rent.json";
        vegaEmbed('#Location1', rent_inflation_spec)
        vegaEmbed('#Location4', supply_spec)
        vegaEmbed('#Location5', demand_spec)


        // Select all links in the document
        document.querySelectorAll("a").forEach(link => {
            const isLinkStyle = link.closest(".links"); // Check if the link is in the .links class
            const isFootnoteLink = link.href.includes("#fn"); // Links to footnotes
            const isSuperscriptLink = link.href.includes("#fn") && link.id.includes("ref"); // Superscripts back to the footnote

            // Open in same tab for .links, footnotes, or superscripts
            if (isLinkStyle || isFootnoteLink || isSuperscriptLink) {
                link.removeAttribute("target");
            } else {
                // Otherwise, open in a new tab
                link.setAttribute("target", "_blank");
            }
        });
     </script>
</body>
</html>



