<!doctype html>
<html class="h-100" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <title>Portfolio | Gabe Melmed</title>
    <link rel="stylesheet" href="brook_theme.css">

    <!-- Link to Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?&family=Cardo:wght@400;700&family=Montserrat:wght@400;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Add this line for emoji favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìä</text></svg>">
    
    <!-- Vega and Vega-Lite for visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

</head>

<body data-bs-spy="scroll" data-bs-target="#navScroll">
    <nav id="navScroll" class="navbar navbar-light py-vh-3 pb-0 px-vw-5" tabindex="0">
        <div class="container-fluid d-flex justify-content-between">
            <!-- Left side - Name/Home link -->
            <a class="navbar-brand pe-md-4 fs-4 text-center" href="index.html">
                <span class="ms-md-1 mt-1 fw-bolder me-md-5">Gabe Melmed</span>
            </a>

            <!-- Right side - Social links -->
            <div class="d-flex align-items-center">
                <a href="https://github.com/gmelmed" aria-label="Personal links" class="fs-6 link-fancy me-2">
                    GitHub
                </a>
                <span class="mx-2">|</span>
                <a href="https://www.linkedin.com/in/gabriel-melmed-3a160019b/" aria-label="Personal links"
                    class="fs-6 link-fancy">
                    LinkedIn
                </a>
            </div>
        </div>
    </nav>

    <main class="container py-vh-3">
        <div class="row d-flex justify-content-center text-center">
            <div class="col-12 col-lg-10 col-xl-8">
                <!-- <small class="text-muted">By
                    John Doe</small> -->
                <h1 class="display-huge">Data Visualization Portflio</h1>
                <p class="lead pt-2 py-vh-2">This is a portfolio of coding challenges I have created for PP434:
                    Automated Data Visualization for Public Policy. The simplest visualizations are at the top and the
                    most complex are at the bottom.</p>
            </div>

            <div class="row">
                <div class="col-12">
                    <img src="img/webp/office111.webp" class="img-fluid" alt="">
                </div>
            </div>

            <div class="row d-flex justify-content-center text-start">
                <div class="col-12 col-lg-10 col-xl-8 py-vh-2">
                    <h2>CC1: Hosting</h2>
                    <p>
                        <b>Task:</b> Set up your own Github account and live page using GitHub pages; Add two charts
                        using the <tt>vegaEmbed</tt> function. <sup><a href="#fn1" id="ref1">1</a></sup>
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc1_1"></figure>
                    </div>
                    <div style="text-align: center;">
                        <figure id="cc1_2"></figure>
                    </div>
                    <h2>CC2: Building.</h2>
                    <p>
                        <b>Task:</b> Build two separate charts using the ‚Äúcreate‚Äù tool from Economics Observatory's <a
                            href="https://www.economicsobservatory.com/create">"create" tool</a>. Embed the two charts
                        in your page.
                    </p>
                    <p>I'll start with some good news:</p>
                    <div style="text-align: center;">
                        <figure id="cc2_1"></figure>
                    </div>
                    <p>Now for some not-so-good news:</p>
                    <div style="text-align: center;">
                        <figure id="cc2_2"></figure>
                    </div>
                    <h3>CC3: Debating.</h3>
                    <p>
                        <b>Task:</b> Produce two charts that support or refute (or are related to in some way) a topic
                        discussed at the <a
                            href="https://www.economicsobservatory.com/festival-of-economics-2024">Festival of
                            Economics.</a> Your task:

                        <!-- bullets -->
                    <ul>
                        <li>Set out a topic that was discussed</li>
                        <li>Make two charts that support or refute it or a related to an argument on this topic. This
                            could be two that support, two that refute, or a mixture.</li>
                        <li>Comment on what you find</li>
                    </ul>
                    </p>
                    <p>
                        On day 1 of the festival, the panel discussed <a
                            href="https://www.economicsobservatory.com/under-performing-how-can-we-boost-britains-low-productivity">UK
                            Productivity</a>, which the panelists argue is under-performing.

                    </p>
                    <p>
                        Richard Davies began the panel by mentioning that two heavy industries, steel and coal, have all
                        but completely shut down in the UK. Most economists agree the manufacturing is a major driver of
                        productivity. The UK was once <a
                            href="https://en.wikipedia.org/wiki/Industrial_Revolution">famously</a> the world's leader
                        in manufacturing. Today, the UK lags behind its peers, both in europe and among high-income
                        countries, in manufacturing.

                    </p>
                    <div style="text-align: center;">
                        <figure id="cc3_1"></figure>
                    </div>
                    <p>
                        The second chart shows the UK's spending on R&D as a share of GDP. The ECO panelists (and many
                        ECO contributors) argue that the UK is under-investing in R&D. The chart below shows R&D
                        spending as a share of GDP for G7 economies. Based on the rhetoric around this issue, I expected
                        to see the UK near the bottom. In fact, the UK is in the middle of the pack, below the US,
                        Germany, and Japan and above Italy, Canada and France.<sup><a href="#fn2" id="ref2">2</a></sup>
                        The UK is also the only country in the G7 that is steadily increasing its R&D spending as a
                        share of GDP. Of course, this says nothing about the quality of the R&D spending.

                    </p>
                    <div style="text-align: center;">
                        <figure id="cc3_2"></figure>
                    </div>
                    <h3>CC4: Replication.</h3>
                    <p>
                        <b>Task:</b> Find a chart that a journalist, think tank, television channel or company has used.
                        Your challenge this week is to replicate it, and then improve on it.
                    </p>
                    <p>
                        This chart initially appeared in an FT article on the Dollar:
                    </p>
                    <div style="text-align: center;">
                        <img src="chart_specs/ft_example.png" alt="FT chart" width="600" height="500">
                    </div>
                    <p>
                        <!-- line break -->
                    </p>
                    <p>
                        Yes, even FT is occasionally guilty of publishing the dreaded dual axis chart. If the viewer
                        doesn't pay attention, he may think the Renminbi's share of global reserves is already just
                        behind the dollar. FT released a <a
                            href="https://www.ft.com/content/3888bdba-d0d6-49a1-9e78-4d07ce458f42">revised version</a>
                        with the two series as a trellis chart with separate scales. This is an improvement, but I still
                        think it obscures the distance that remains between the two currencies. Here is my recreation:
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc4_1"></figure>
                    </div>
                    <p>
                        And my revised version:
                    </p>

                    <div style="text-align: center;">
                        <figure id="cc4_2"></figure>
                    </div>
                    <p>
                        When both series are on the same scale and other currencies are included, we can see how much
                        the original chart exaggerates the Renminbi's share. It isn't even the fifth most held currency
                        in the world. The latter claim about the Dollar slipping is true - we can still see that the
                        dollar doesn't dominate FX reserves like it once did.
                    </p>
                    <h3>CC5: Scraper.</h3>
                    <p>
                        <b>Task:</b> Scrape a website using Pandas <tt>read_html</tt> or <tt>beautifulsoup</tt>. Then
                        clean the data and create a plot.
                    </p>
                    <p>
                        For this plot, I scraped <a href="https://www.basketball-reference.com">Basketball Reference</a>
                        to find player statistics from this season. <a
                            href="https://colab.research.google.com/github/gmelmed/gmelmed.github.io/blob/main/cc5_data.ipynb">Here's</a>
                        a notebook with the code I used. I created the plot below, which shows every player
                        organized by team and ranked by an advanced statistic called value over replacement player, or
                        VORP.<sup><a href="#fn3" id="ref3">3</a></sup> To show the distribution of talent across the
                        league and across teams, I show each team's best player, team average, and team average without
                        their best player.<sup><a href="#fn3" id="ref4">4</a></sup>
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc5"></figure>
                    </div>
                    <h3>CC6: Loops. Build a Dashboard</h3>
                    <p>
                        <b>Task:</b> Use the ONS API to batch download nine different series. Save these to your GitHub
                        account, and use these to supply the data to nine charts on a theme or themes of your choice.
                    </p>
                    <p>
                        I batch downloaded time series from the ONS's <a
                            href="https://www.ons.gov.uk/employmentandlabourmarket/peopleinwork/employmentandemployeetypes/datasets/labourmarketstatistics">Labour
                            market statistics</a> dataset. I created a "dashboard" using Vega-Lite's <tt>facet</tt>
                        feature. The dashboard is meant to provide a brief overview of the UK's labor market trends.
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc6"></figure>
                    </div>
                    <h3>CC7: Maps.</h3>
                    <p>
                        <b>Task:</b> Produce two maps and embed them in your portfolio page. Both should be of the same
                        country, region, area, city:
                        <!-- bullet list -->
                    <ul>
                        <li>Map 1. Your base map.</li>
                        <li>Map 2. A choropleth map.</li>
                    </ul>
                    <p>
                        I decided to map New York City. The first map shows the city's Community Districts and their
                        Boroughs.
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc7_1"></figure>
                    </div>
                    <p>
                        The second map shows New York's linguistic diversity. The map is colored by the third most
                        commonly spoken language in each district. I mapped the third most common language because
                        English and Spanish are the most common in nearly every district.<sup><a href="#fn5"
                                id="ref5">5</a></sup>
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc7_2"></figure>
                    </div>
                    <h3>CC8: Analytics Charts.</h3>
                    <p>
                        <b>Task:</b> Produce two charts that use advanced analytics.
                    </p>
                    <p>
                        My first analytics chart is from my <a href="final_project/rent_in_america.html">final
                            project.</a> More than any other visualization, it shows thesis of my project: areas that
                        under-supply housing have higher rent growth. We can also observe regional trends.
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc8_1"></figure>
                    </div>
                    <p>
                        For the next visualization, I returned to the life expectancy data I used for my <a
                            href="lifeex.html">policy memo</a> on the subject last year. In it, I argued that life
                        expectancy in the US is diverging by geography and by class. The decline and stagnation of
                        overall life expectancy conceals a great deal of variation. Consider the density plots of life
                        expectancy by county every four years. The distributions gradually become flatter and wider,
                        indicating a widening gap between the shortest- and longest-living areas.
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc8_2"></figure>
                    </div>
                    <h3>CC9: Big data.</h3>
                    <p>
                        <b>Task:</b> Produce two charts using the <a href="https://richarddavies.io/prices/">UK price
                            data</a> provided in class.
                    </p>
                    <p>
                        How much does a suit cost? I found every component of a mens suit in the UK price data. The
                        chart below shows the average price of each component in that month. Clothing prices have more
                        seasonality than I expected!
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc9_1"></figure>
                    </div>
                    <p>
                        My next chart shows percentile bands of a 1-night stay at a hotel by UK region. The upper
                        percentiles show extreme seasonality, peaking in the fall and spring (perhaps for booking summer
                        and christmas vacations?). The middle bands stayed relatively stable until the recent
                        post-pandemic inflation.
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc9_2"></figure>
                    </div>
                    <h3>CC10: Interactivity.</h3>
                    <p>
                        <b>Task:</b> Produce two visualizations that have interactive elements.
                    </p>
                    <p>
                        For these visualizations, I continued with the life expectancy data. The first shows life
                        expectancy by state from 2000 to 2019. Moving forward in time, we see how some states are living
                        dramatically longer while other areas are stagnating.
                    </p>
                    <div style="text-align: center;">
                        <figure id="cc10_1"></figure>
                    </div>
                    <p>
                        The second variation shows inequality <i>within</i> states. The plot shows every county in the
                        US, with the user able to select a state from the dropdown menu and highlight its counties. Life
                        expectancy varies widely within some states.

                    </p>
                    <div style="text-align: center;">
                        <figure id="cc10_2"></figure>
                    </div>


                </div>
            </div>
        </div>
    </main>
    <div class="container d-flex justify-content-between">



        <div class="col border-top border-end py-vh-3 d-flex align-items-center">

            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-arrow-left"
                viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z" />
            </svg>
            <a href="index.html" class="ms-2 display-6">Home</a>

        </div>
        <div class="col border-top text-end py-vh-3 d-flex align-items-center justify-content-end">

            <a href="rent_project.html" class="me-2 display-6">Mapping America's Rent Crisis</a><svg
                xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-arrow-right"
                viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" />
            </svg>
        </div>

    </div>
    <!-- Footer -->
    <footer>
        <div class="row d-flex justify-content-center text-start">
            <div class="col-12 col-lg-10 col-xl-6 py-vh-2">

                <ol>
                    <li id="fn1">
                        <p>
                            I changed the <tt>config</tt> section of the JSON specs for these charts and the CC2
                            charts to match the style of my portfolio. I also added a tooltip the the CC2 charts.
                            Otherwise, the charts are the same as the originals.<a href="#fn1-ref">‚Ü©</a>
                        </p>
                    </li>
                    <li id="fn2">
                        <p>
                            I don't think I'm cherry-picking my sample either. The UK is also middle-of-the pack
                            when
                            compared with G20 countries and OECD countries.<a href="#fn2-ref">‚Ü©</a></p>
                    </li>
                    <li id="fn3">
                        <p>For those wondering, VORP is:</p>
                        <!-- block quote -->
                        <blockquote>
                            A box score estimate of the points per 100 TEAM possessions that a player contributed
                            above
                            a replacement-level player, translated to an average team and prorated to an 82-game
                            season.
                            Multiply by 2.70 to convert to wins over replacement.
                        </blockquote>

                        <p>
                            And they say analytics take the fun out of sports!<a href="#fn3-ref">‚Ü©</a>
                        </p>
                    </li>
                    <li id="fn4">
                        <p>
                            This plot is also meant to just how good my favorite player, Nikola Jokiƒá is.<a
                                href="#fn4-ref">‚Ü©</a>
                        </p>
                    <li id="fn5">
                        <p>
                            I wish I could say I came up with the idea for this chart, but it's a recreation of <a
                                href="https://www.reddit.com/r/MapPorn/comments/145weto/first_second_and_third_most_spoken_languages_in/">this
                                map.</a><a href="#fn5-ref">‚Ü©</a>
                        </p>
                </ol>
            </div>
        </div>
        <div class="container text-center small py-vh-3">
            Template from
            <a href="https://templatedeck.com" class="link-fancy" target="_blank">templatedeck.com</a>
            <!-- Footer link -->
        </div>
    </footer>
    <script>
        let rd_football_spec = "chart_specs/rd_football.json";
        let rd_accommodation_spec = "chart_specs/rd_accommodation.json";
        let eco_nuclear_spec = "chart_specs/eco_nuclear.json";
        let eco_india_spec = "chart_specs/eco_india_phones.json";
        let mva_spec = "chart_specs/mva.json";
        let rd_spec = "chart_specs/rd_spending.json";
        let ft_recreation_spec = "chart_specs/ft_recreation.json";
        let ft_remake_spec = "chart_specs/ft_remake.json";
        let vorp_spec = "chart_specs/vorp.json";
        let facet_spec = "chart_specs/uk_labor_mkt.json";
        let nyc_plain_spec = "chart_specs/nyc_plain.json";
        let nyc_languages_spec = "chart_specs/nyc_languages.json";
        let homebuilding_spec = "final_project/specs/homebuilding_zori.json";
        let lifeex_distribution_spec = "chart_specs/lifeex_distributions.json";
        let interactive_map_spec = "chart_specs/lifeex_state_interactive.json";
        let lifeex_dropdown_spec = "chart_specs/lifeex_dropdown.json";
        let suit_spec = "chart_specs/suit_spec.json";
        let hotel_spec = "chart_specs/hotels.json";

        vegaEmbed('#cc1_1', rd_football_spec)
        vegaEmbed('#cc1_2', rd_accommodation_spec)
        vegaEmbed('#cc2_2', eco_nuclear_spec)
        vegaEmbed('#cc2_1', eco_india_spec)
        vegaEmbed('#cc3_1', mva_spec)
        vegaEmbed('#cc3_2', rd_spec)
        vegaEmbed('#cc4_1', ft_recreation_spec)
        vegaEmbed('#cc4_2', ft_remake_spec)
        vegaEmbed('#cc5', vorp_spec)
        vegaEmbed('#cc6', facet_spec)
        vegaEmbed('#cc7_1', nyc_plain_spec)
        vegaEmbed('#cc7_2', nyc_languages_spec)
        vegaEmbed('#cc8_1', homebuilding_spec)
        vegaEmbed('#cc8_2', lifeex_distribution_spec)
        vegaEmbed('#cc9_1', suit_spec)
        vegaEmbed('#cc9_2', hotel_spec)
        vegaEmbed('#cc10_1', interactive_map_spec)
        vegaEmbed('#cc10_2', lifeex_dropdown_spec)


        // Handle footnote links
        document.addEventListener('click', function (e) {
            // Check if the clicked element is a footnote link
            if (e.target.tagName === 'A' && e.target.hash) {
                e.preventDefault();
                const targetId = e.target.hash.slice(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    setTimeout(() => {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }, 0);
                    window.location.hash = targetId;
                }
            }
        });

        // Handle all links
        document.querySelectorAll("a").forEach(link => {
            const href = link.href.toLowerCase();
            const currentDomain = window.location.hostname;

            // Check if it's an internal link (same domain or anchor)
            const isInternalLink =
                href.includes('#') || // Footnote/anchor links
                link.hostname === currentDomain; // Same domain (your repository)

            if (!isInternalLink) {
                // External links open in new tab
                link.setAttribute("target", "_blank");
                link.setAttribute("rel", "noopener noreferrer");
            } else {
                // Internal links stay in same tab
                link.removeAttribute("target");
            }
        });


    </script>

</body>

</html>